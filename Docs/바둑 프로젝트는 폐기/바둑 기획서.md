# 🎮 프로젝트 기획서: Unity 기반 바둑 시스템 (가제)

## 1. 프로젝트 개요
* **프로젝트명:** Unity Baduk Project (TBD)
* **개발 기간:** 2026.02.26 ~ 2026.03.05 (8일)
* **플랫폼:** PC (Windows)
* **개발 환경:** Unity 6000.3.9f1 LTS / C#

## 2. 프로젝트 목표
* **핵심 로직 구현:** DFS/BFS 알고리즘을 활용한 바둑 룰 엔진(활로, 따냄 등) 직접 구현.
* **상태 관리 습득:** 턴제 게임의 흐름과 바둑판 데이터 구조 관리 능력 배양.
* **확장 가능성 고려:** 로컬 대전에서 AI 연동까지 단계별 기능 확장을 고려한 설계.

## 3. 개발 범위 (Scope)

### 3.1 MVP (필수)
* **9x9 로컬 2인 대전:** 한 기기에서 두 명이 번갈아 가며 착수하는 핵심 기능.
* **기본 규칙 엔진:** 한국 바둑 규칙 기반의 필수 로직 (활로, 따냄, 착수금지, 기본 패, 패스, 리셋).

### 3.2 확장 (목표)
* **19x19 보드 지원:** 보드 크기 확장 및 이에 따른 UI/카메라 대응.

### 3.3 Stretch (시간 남을 시)
* **KataGo AI 연동:** 외부 라이브러리(KataGo) 연동을 통한 AI 대전 모드.
* **추가 AI 연동 시도:** 시간적 여유가 있을 경우 타 AI 엔진 추가 연동 검토.

---

## 4. 핵심 게임 시스템 (Core Mechanics)

### 4.1 룰 엔진 로직 (DFS/BFS 활용)
* **그룹화(Chain):** 착수 시 상하좌우 인접한 같은 색상의 돌들을 DFS/BFS로 탐색하여 하나의 그룹으로 인식.
* **활로(Liberty) 계산:** 인식된 그룹의 인접 빈 공간(교차점)을 탐색하여 활로 개수 파악.
* **따냄(Capture):** 상대 그룹의 활로가 0이 될 경우 해당 그룹의 돌들을 판에서 제거.
* **착수금지(Suicide):** 두었을 때 자신의 활로가 0이 되는 곳은 착수 불가 (단, 상대 돌을 따낼 수 있는 경우는 예외).
* **패(Basic Ko):** 직전 수에 의해 따낸 자리에 즉시 다시 두어 이전 상태를 반복하는 것을 방지.

### 4.2 게임 흐름 제어
* **턴 교체:** 흑/백 순차적 턴 전환 시스템.
* **2패스 종료:** 두 플레이어가 연속으로 '패스'를 선택할 경우 대국 종료 처리.
* **데이터 초기화:** '리셋' 기능을 통한 바둑판 상태 초기화.

---

## 5. 아키텍처 (Layer Separation)
* **Data Layer:** 바둑판의 상태(흑, 백, 빈 공간)를 관리하는 2D Array 또는 List 자료구조.
* **Logic Layer:** `RuleChecker` 클래스를 통해 착수 가능 여부와 그룹 상태를 계산 (Unity 종속성 최소화).
* **View Layer:** 유니티 UI(UGUI) 및 Prefab을 활용하여 바둑판과 돌을 화면에 출력하고 사용자 입력을 수신.

---

## 6. UI/UX 방향 (최소 UI 기준)
* **대전 화면:** 현재 누구의 차례인지 표시 (흑/백 턴 인디케이터).
* **조작 버튼:** '패스(Pass)', '리셋(Reset)' 버튼 배치.
* **안내 메시지:** 착수 금지 구역 클릭 시 짧은 텍스트 알림.

---

## 7. 개발 마일스톤 (8일)

| 날짜 | 목표 단계 | 주요 개발 내용 |
| :--- | :--- | :--- |
| **Day 1** | **환경 구축** | 프로젝트 세팅, 9x9 보드 및 좌표계 설계, 클릭 지점 인식 |
| **Day 2** | **로직 구현 (1)** | 돌 배치 로직, DFS/BFS 기반 돌 그룹화 및 활로 탐색 |
| **Day 3** | **로직 구현 (2)** | 따냄(Capture) 처리 및 착수 금지(자살수) 로직 완성 |
| **4일차** | **로직 구현 (3)** | 기본 패(Ko) 규칙 구현 및 턴 교체 시스템 구축 |
| **5일차** | **MVP 완성** | 연속 2패스 종료 및 리셋 기능 구현, 9x9 로컬 플레이 검증 |
| **6일차** | **보드 확장** | 19x19 보드 지원을 위한 UI 확장 및 카메라 세팅 |
| **7일차** | **AI 연동 (S)** | (시간 남을 시) KataGo 연동 및 GTP 통신 기본 구조 설계 |
| **8일차** | **최종 정리** | 버그 수정, 난이도 프리셋(TBD) 검토 및 최종 폴리싱 |

---

## 8. 리스크 관리
* **범위 폭발 방지:** 한국 바둑 규칙 중 복잡한 사활 판정이나 예외 규칙은 배제하고 기본 착수 규칙에 집중함.
* **버그 대응:** 돌을 따내거나 패 상황에서 데이터 동기화 오류가 발생하지 않도록 로직 테스트 우선 진행.
* **AI 연동 이슈:** 외부 프로세스 연동이 지연될 경우 MVP(로컬 대전)의 완성도를 높이는 방향으로 즉시 선회.

---

## 9. TBD (미정) 목록
* **덤(Komi):** 한국 룰 기준(6.5집) 적용 여부 및 수치 확정 필요.
* **AI 난이도 프리셋:** 난이도 조절을 위한 세부 파라미터(예: 탐색 횟수 등)는 라이브러리 분석 후 결정.
* **결과 화면:** 대국 종료 시 단순히 승패만 보여줄지, AI의 분석 데이터를 시각화할지 여부.